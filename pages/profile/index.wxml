<!-- 懂拍帝个人资料页面 - 摄影专业视觉升级 -->
<view class="photography-profile-page">
  <!-- 专业摄影师头部区域 -->
  <view class="photographer-header">
    <view class="header-content">
      <view class="user-main-info">
        <view class="user-avatar-container">
          <image class="user-avatar" src="{{userInfo.avatarUrl || '/static/default-avatar.png'}}" mode="aspectFill" />
          <view class="avatar-badge">
            <t-icon name="{{getUserLevelIcon()}}" size="24rpx" color="#1a1a1a" />
          </view>
        </view>

        <view class="user-details">
          <text class="user-name">{{userInfo.nickName || '未设置昵称'}}</text>
          <text class="user-title">{{getUserTitle()}}</text>
          <view class="user-location">
            <t-icon name="location" size="20rpx" />
            <text>{{userInfo.city || '未设置城市'}}</text>
          </view>
          <view class="user-specialties" wx:if="{{userInfo.specialties}}">
            <text
              class="specialty-tag"
              wx:for="{{userInfo.specialties}}"
              wx:key="*this"
            >
              {{item}}
            </text>
          </view>
        </view>
      </view>

      <!-- 专业统计数据 -->
      <view class="photographer-stats">
        <view class="stat-item">
          <text class="stat-number">{{formatCount(userStats.worksCount)}}</text>
          <text class="stat-label">作品</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">{{formatCount(userStats.followersCount)}}</text>
          <text class="stat-label">粉丝</text>
        </view>
        <view class="stat-item">
          <text class="stat-number">{{formatCount(userStats.likesCount)}}</text>
          <text class="stat-label">获赞</text>
        </view>
        <view class="stat-item" wx:if="{{userInfo.is_photographer}}">
          <text class="stat-number">{{formatCount(userStats.ordersCount)}}</text>
          <text class="stat-label">订单</text>
        </view>
      </view>
    </view>
  </view>



  <!-- 专业功能菜单 -->
  <view class="professional-menu" wx:if="{{userInfo.is_photographer}}">
    <view class="menu-item" bindtap="onEarningsTap">
      <view class="menu-icon earnings">
        <t-icon name="money" size="32rpx" color="#1a1a1a" />
      </view>
      <view class="menu-content">
        <text class="menu-title">收益管理</text>
        <text class="menu-desc">查看收入统计和提现记录</text>
      </view>
      <view class="menu-badge" wx:if="{{pendingEarnings > 0}}">{{pendingEarnings}}</view>
      <t-icon class="menu-arrow" name="chevron-right" size="24rpx" />
    </view>

    <view class="menu-item" bindtap="onOrdersTap">
      <view class="menu-icon orders">
        <t-icon name="order" size="32rpx" color="#fff" />
      </view>
      <view class="menu-content">
        <text class="menu-title">订单管理</text>
        <text class="menu-desc">管理拍摄订单和客户沟通</text>
      </view>
      <view class="menu-badge" wx:if="{{pendingOrders > 0}}">{{pendingOrders}}</view>
      <t-icon class="menu-arrow" name="chevron-right" size="24rpx" />
    </view>

    <view class="menu-item" bindtap="onAnalyticsTap">
      <view class="menu-icon analytics">
        <t-icon name="chart" size="32rpx" color="#fff" />
      </view>
      <view class="menu-content">
        <text class="menu-title">数据分析</text>
        <text class="menu-desc">查看作品表现和用户画像</text>
      </view>
      <t-icon class="menu-arrow" name="chevron-right" size="24rpx" />
    </view>

    <view class="menu-item" bindtap="onSettingsTap">
      <view class="menu-icon settings">
        <t-icon name="setting" size="32rpx" color="#fff" />
      </view>
      <view class="menu-content">
        <text class="menu-title">专业设置</text>
        <text class="menu-desc">管理服务价格和拍摄偏好</text>
      </view>
      <t-icon class="menu-arrow" name="chevron-right" size="24rpx" />
    </view>
  </view>

  <!-- 内容区域 -->
  <view class="content-section">
    <!-- 作品展示 -->
    <view class="works-content" wx:if="{{currentTab === 'works'}}">
      <view class="upload-prompt" wx:if="{{myWorks.length === 0}}">
        <t-icon name="camera" size="120rpx" color="#ccc" />
        <text class="prompt-text">还没有作品</text>
        <text class="prompt-desc">上传你的第一个摄影作品吧</text>
        <t-button theme="primary" size="medium" bindtap="onUploadWork">
          上传作品
        </t-button>
      </view>
      
      <photo-grid 
        wx:else
        works="{{myWorks}}"
        columns="3"
        show-stats="{{true}}"
        bind:worktap="onWorkTap"
      />
    </view>

    <!-- 约拍展示 -->
    <view class="appointments-content" wx:if="{{currentTab === 'appointments'}}">
      <view class="empty-appointments" wx:if="{{myAppointments.length === 0}}">
        <t-icon name="calendar" size="120rpx" color="#ccc" />
        <text class="prompt-text">还没有约拍记录</text>
        <text class="prompt-desc">发布约拍需求或申请他人的约拍</text>
      </view>
      
      <view wx:else>
        <appointment-card
          wx:for="{{myAppointments}}"
          wx:key="id"
          appointment="{{item}}"
          bind:cardtap="onAppointmentTap"
        />
      </view>
    </view>
  </view>
</view>
