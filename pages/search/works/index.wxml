<!-- 摄影作品搜索页面 -->
<view class="search-works-page">
  <!-- 专业摄影导航栏 -->
  <view class="photography-navbar">
    <view class="nav-back" bindtap="goBack">
      <t-icon name="chevron-left" size="32rpx" color="rgba(255, 252, 240, 0.9)" />
    </view>
    <text class="nav-title">搜索作品</text>
  </view>

  <!-- 搜索头部 -->
  <view class="search-header">
    <view class="search-row">
      <view class="search-input-wrapper">
        <t-icon class="input-icon" name="search" size="28rpx" />
        <input
          class="search-input"
          value="{{keyword}}"
          placeholder="搜索摄影作品、标签、风格..."
          bindinput="onSearchInput"
          bindconfirm="performSearch"
          confirm-type="search"
          focus="{{autoFocus}}"
        />
      </view>
      <view class="search-btn" bindtap="performSearch">
        <text class="btn-text">搜索</text>
      </view>
    </view>
  </view>

  <!-- 筛选区域 -->
  <view class="filter-section" wx:if="{{hasSearched}}">
    <view class="filter-tabs">
      <text class="filter-tab {{filterType === 'all' ? 'active' : ''}}" data-type="all" bindtap="onFilterTap">全部</text>
      <text class="filter-tab {{filterType === 'portrait' ? 'active' : ''}}" data-type="portrait" bindtap="onFilterTap">人像</text>
      <text class="filter-tab {{filterType === 'landscape' ? 'active' : ''}}" data-type="landscape" bindtap="onFilterTap">风光</text>
      <text class="filter-tab {{filterType === 'street' ? 'active' : ''}}" data-type="street" bindtap="onFilterTap">街拍</text>
    </view>
  </view>

  <!-- 搜索建议区域 -->
  <view class="search-suggestions" wx:if="{{!hasSearched}}">
    <!-- 热门搜索 -->
    <view class="suggestion-section">
      <view class="section-title">🔥 热门搜索</view>
      <view class="keyword-list">
        <text
          class="keyword-tag hot"
          wx:for="{{hotKeywords}}"
          wx:key="*this"
          data-keyword="{{item}}"
          bindtap="onHotKeywordTap"
        >
          {{item}}
        </text>
      </view>
    </view>

    <!-- 搜索历史 -->
    <view class="suggestion-section" wx:if="{{searchHistory.length > 0}}">
      <view class="section-header">
        <text class="section-title">搜索历史</text>
        <text class="clear-btn" bindtap="clearSearchHistory">清空</text>
      </view>
      <view class="keyword-list">
        <text 
          class="keyword-tag history"
          wx:for="{{searchHistory}}"
          wx:key="*this"
          data-keyword="{{item}}"
          bindtap="onHistoryTap"
        >
          {{item}}
        </text>
      </view>
    </view>
  </view>

  <!-- 搜索结果区域 -->
  <view class="search-results" wx:if="{{hasSearched}}">
    <!-- 结果统计 -->
    <view class="results-header" wx:if="{{!loading}}">
      <text class="results-count">
        找到 <text class="count-number">{{searchResults.length}}</text> 个相关作品
      </text>
      <view class="sort-btn" bindtap="onSortTap">
        <text class="sort-text">排序</text>
        <t-icon name="chevron-down" size="20rpx" color="#666" />
      </view>
    </view>

    <!-- 加载状态 -->
    <view class="loading-section" wx:if="{{loading}}">
      <smart-loading
        type="search"
        visible="{{true}}"
        text="正在搜索摄影作品..."
      />
    </view>

    <!-- 搜索结果网格 -->
    <view class="results-content" wx:elif="{{searchResults.length > 0}}">
      <photo-grid
        works="{{searchResults}}"
        columns="2"
        show-stats="{{true}}"
        bind:worktap="onWorkTap"
      />
    </view>

    <!-- 无结果状态 -->
    <view class="no-results" wx:else>
      <view class="no-results-icon"></view>
      <text class="no-results-text">未找到相关作品</text>
      <text class="no-results-desc">试试调整关键词或浏览热门作品</text>
      <view class="retry-btn" bindtap="onRetrySearch">
        <text class="retry-text">重新搜索</text>
      </view>
    </view>
  </view>
</view>
